{"ast":null,"code":"import _slicedToArray from\"/Users/landrycarroll/Documents/Development/discord-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import'./MobileDropdown.css';import AddIcon from'@material-ui/icons/Add';import ExitToAppOutlinedIcon from'@material-ui/icons/ExitToAppOutlined';import SidebarChannel from'./SidebarChannel';import db,{auth}from'./firebase';function MobileDropdown(_ref){var display=_ref.display;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),channels=_useState2[0],setChannels=_useState2[1];useEffect(function(){db.collection('channels').onSnapshot(function(snapshot){setChannels(snapshot.docs.map(function(doc){return{id:doc.id,channel:doc.data()};}));});},[]);var handleAddChannel=function handleAddChannel(){var channelName=prompt('enter a new channel name');if(channelName){db.collection('channels').add({channelName:channelName});}};var displayHeader=function displayHeader(){return display?{display:\"block\"}:{display:\"none\"};};return/*#__PURE__*/_jsx(\"div\",{className:\"mobileDropdown\",style:displayHeader(),children:/*#__PURE__*/_jsxs(\"div\",{className:\"mobildDropdown__channels\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mobildDropdown__logout\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mobildDropdown__header\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Logout\"})}),/*#__PURE__*/_jsx(ExitToAppOutlinedIcon,{onClick:function onClick(){return auth.signOut();},className:\"sidebar__addChannel\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mobildDropdown__addChannel\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mobildDropdown__header\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Add Channel\"})}),/*#__PURE__*/_jsx(AddIcon,{onClick:handleAddChannel,className:\"sidebar__addChannel\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar__channelsList\",children:channels.map(function(_ref2){var id=_ref2.id,channel=_ref2.channel;return/*#__PURE__*/_jsx(SidebarChannel,{id:id,channelName:channel.channelName},id);})})]})});}export default MobileDropdown;","map":{"version":3,"sources":["/Users/landrycarroll/Documents/Development/discord-clone/src/MobileDropdown.js"],"names":["React","useState","useEffect","AddIcon","ExitToAppOutlinedIcon","SidebarChannel","db","auth","MobileDropdown","display","channels","setChannels","collection","onSnapshot","snapshot","docs","map","doc","id","channel","data","handleAddChannel","channelName","prompt","add","displayHeader","signOut"],"mappings":"uQAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,sBAAP,CACA,MAAOC,CAAAA,OAAP,KAAoB,wBAApB,CACA,MAAOC,CAAAA,qBAAP,KAAkC,sCAAlC,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,EAAP,EAAaC,IAAb,KAAyB,YAAzB,CAEA,QAASC,CAAAA,cAAT,MAAqC,IAAXC,CAAAA,OAAW,MAAXA,OAAW,eACHR,QAAQ,CAAC,EAAD,CADL,wCAC5BS,QAD4B,eAClBC,WADkB,eAGnCT,SAAS,CAAC,UAAM,CACdI,EAAE,CAACM,UAAH,CAAc,UAAd,EAA0BC,UAA1B,CAAqC,SAAAC,QAAQ,CAAI,CAC/CH,WAAW,CAACG,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAAAC,GAAG,QAAK,CACpCC,EAAE,CAAED,GAAG,CAACC,EAD4B,CAEpCC,OAAO,CAAEF,GAAG,CAACG,IAAJ,EAF2B,CAAL,EAArB,CAAD,CAAX,CAID,CALD,EAMD,CAPQ,CAON,EAPM,CAAT,CASA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC7B,GAAMC,CAAAA,WAAW,CAAGC,MAAM,CAAC,0BAAD,CAA1B,CAEA,GAAID,WAAJ,CAAiB,CACfhB,EAAE,CAACM,UAAH,CAAc,UAAd,EAA0BY,GAA1B,CAA8B,CAC5BF,WAAW,CAAEA,WADe,CAA9B,EAGD,CACF,CARD,CAUA,GAAMG,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1B,MAAOhB,CAAAA,OAAO,CAAG,CAACA,OAAO,CAAE,OAAV,CAAH,CAAwB,CAACA,OAAO,CAAE,MAAV,CAAtC,CACD,CAFD,CAIA,mBACE,YAAK,SAAS,CAAC,gBAAf,CAAgC,KAAK,CAAEgB,aAAa,EAApD,uBACE,aAAK,SAAS,CAAC,0BAAf,wBAEE,aAAK,SAAS,CAAC,wBAAf,wBACE,YAAK,SAAS,CAAC,wBAAf,uBACE,8BADF,EADF,cAIE,KAAC,qBAAD,EAAuB,OAAO,CAAE,yBAAMlB,CAAAA,IAAI,CAACmB,OAAL,EAAN,EAAhC,CAAsD,SAAS,CAAC,qBAAhE,EAJF,GAFF,cASE,aAAK,SAAS,CAAC,4BAAf,wBACE,YAAK,SAAS,CAAC,wBAAf,uBACE,mCADF,EADF,cAIE,KAAC,OAAD,EAAS,OAAO,CAAEL,gBAAlB,CAAoC,SAAS,CAAC,qBAA9C,EAJF,GATF,cAgBE,YAAK,SAAS,CAAC,uBAAf,UACGX,QAAQ,CAACM,GAAT,CAAa,mBAAGE,CAAAA,EAAH,OAAGA,EAAH,CAAOC,OAAP,OAAOA,OAAP,oBACZ,KAAC,cAAD,EAEE,EAAE,CAAED,EAFN,CAGE,WAAW,CAAEC,OAAO,CAACG,WAHvB,EACOJ,EADP,CADY,EAAb,CADH,EAhBF,GADF,EADF,CA6BD,CAED,cAAeV,CAAAA,cAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './MobileDropdown.css';\nimport AddIcon from '@material-ui/icons/Add';\nimport ExitToAppOutlinedIcon from '@material-ui/icons/ExitToAppOutlined';\nimport SidebarChannel from './SidebarChannel';\nimport db, { auth } from './firebase';\n\nfunction MobileDropdown({ display }) {\n  const [channels, setChannels] = useState([]);\n\n  useEffect(() => {\n    db.collection('channels').onSnapshot(snapshot => {\n      setChannels(snapshot.docs.map(doc => ({\n        id: doc.id,\n        channel: doc.data()\n      })))\n    });\n  }, [])\n\n  const handleAddChannel = () => {\n    const channelName = prompt('enter a new channel name');\n\n    if (channelName) {\n      db.collection('channels').add({\n        channelName: channelName\n      })\n    }\n  }\n\n  const displayHeader = () => {\n    return display ? {display: \"block\"} : {display: \"none\"}\n  }\n\n  return (\n    <div className=\"mobileDropdown\" style={displayHeader()}>\n      <div className=\"mobildDropdown__channels\">\n\n        <div className=\"mobildDropdown__logout\">\n          <div className=\"mobildDropdown__header\">\n            <h4>Logout</h4>\n          </div>\n          <ExitToAppOutlinedIcon onClick={() => auth.signOut()} className=\"sidebar__addChannel\"/>\n        </div>\n\n        <div className=\"mobildDropdown__addChannel\">\n          <div className=\"mobildDropdown__header\">\n            <h4>Add Channel</h4>\n          </div>\n          <AddIcon onClick={handleAddChannel} className=\"sidebar__addChannel\"/>\n        </div>\n       \n        <div className=\"sidebar__channelsList\">\n          {channels.map(({ id, channel }) => (\n            <SidebarChannel\n              key={id}\n              id={id}\n              channelName={channel.channelName}/>\n          ))} \n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default MobileDropdown\n"]},"metadata":{},"sourceType":"module"}